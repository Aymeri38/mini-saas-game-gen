"use client";import{useState,useEffect}from"react";import{Play,Hammer,User,LogIn,LogOut,Settings,Star,Save,Clock}from"lucide-react";const DEFAULT_GAMES=[{name:"Pong Classic",emoji:"ğŸ¾",description:"â†‘â†“ flÃ¨ches vs IA"},{name:"Snake Pro",emoji:"ğŸ",description:"â†‘â†“â†â†’ mange pommes"},{name:"Tetris",emoji:"ğŸ§±",description:"Classique rotatif"},{name:"Flappy Bird",emoji:"ğŸ¦",description:"Espace pour voler"}];const DEFAULT_USERS=["Joueur123","GamerPro456","CodeMaster789","SnakeKing101","PongLegend202"];export default function Home(){const[activeTab,setActiveTab]=useState("play");const[user,setUser]=useState(null);const[username,setUsername]=useState("");useEffect(()=>{const savedUser=localStorage.getItem("gameUser");if(savedUser){setUser(JSON.parse(savedUser));setUsername(JSON.parse(savedUser).name)}else{const randomUser=DEFAULT_USERS[Math.floor(Math.random()*DEFAULT_USERS.length)];const newUser={id:Date.now().toString(),name:randomUser,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${randomUser}`,games:0,lastPlayed:0};localStorage.setItem("gameUser",JSON.stringify(newUser));setUser(newUser);setUsername(randomUser)}},[]);const login=()=>{const name=prompt("Ton pseudo ?",username||"Joueur"+Math.floor(Math.random()*999));if(name){const newUser={id:Date.now().toString(),name:name,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${name}`,games:0,lastPlayed:0};localStorage.setItem("gameUser",JSON.stringify(newUser));setUser(newUser);setUsername(name)}};const logout=()=>{localStorage.removeItem("gameUser");setUser(null);setUsername("")};return(<div className="h-screen flex flex-col bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 overflow-hidden"><div className="bg-white/95 backdrop-blur-lg border-b border-gray-200/50 shadow-xl"><div className="max-w-6xl mx-auto px-6 py-4"><div className="flex items-center justify-between"><div className="flex gap-2 flex-1 max-w-2xl"><button onClick={()=>setActiveTab("play")} className={`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold text-lg transition-all shadow-md group hover:shadow-xl ${activeTab==="play"?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white scale-105 shadow-indigo-500/50":"bg-white/70 hover:bg-indigo-50 text-gray-700 hover:text-indigo-700 hover:scale-[1.02] hover:shadow-indigo-200"}`}><Play className={`w-6 h-6 transition-transform ${activeTab==="play"?"rotate-12 drop-shadow-lg":"group-hover:rotate-12"}`}/><span>Jouer</span></button><button onClick={()=>setActiveTab("create")} className={`flex items-center gap-2 px-6 py-3 rounded-2xl font-bold text-lg transition-all shadow-md group hover:shadow-xl ${activeTab==="create"?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white scale-105 shadow-emerald-500/50":"bg-white/70 hover:bg-emerald-50 text-gray-700 hover:text-emerald-700 hover:scale-[1.02] hover:shadow-emerald-200"}`}><Hammer className={`w-6 h-6 transition-transform ${activeTab==="create"?"rotate-12 drop-shadow-lg":"group-hover:rotate-12"}`}/><span>CrÃ©ateur</span></button></div><div className="flex items-center gap-3 ml-8"><div className="flex items-center gap-3 p-3 bg-white/60 rounded-2xl shadow-md border border-gray-200/50 hover:shadow-xl transition-all hover:scale-105 cursor-default group"><{user?`<img src={user.avatar} alt={user.name} className="w-10 h-10 rounded-2xl shadow-lg ring-2 ring-white/50"/>`:`<div className="w-10 h-10 bg-gradient-to-r from-gray-400 to-gray-500 rounded-2xl shadow-lg animate-pulse"/>`}<div className="min-w-0 flex flex-col items-start"><div className="font-bold text-sm text-gray-900 truncate max-w-[120px]">{user?.name||"InvitÃ©"}</div><{user&&`<div className="flex items-center gap-1 text-xs text-gray-500"><Star className="w-3 h-3 fill-yellow-400 text-yellow-400"/><span>0</span></div>`}/></div></div>{user?<button onClick={logout} className="flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-800 font-semibold rounded-xl transition-all hover:shadow-md border border-red-200 hover:border-red-300 hover:scale-105"><LogOut className="w-4 h-4"/>DÃ©connexion</button>:<button onClick={login} className="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transition-all hover:scale-105 border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/50"><LogIn className="w-5 h-5"/>Se connecter</button>}</div></div></div>{activeTab==="play"&&<div className="flex-1 flex flex-col items-center justify-center p-12 overflow-y-auto"><div className="text-center mb-20 max-w-3xl"><div className="inline-block w-28 h-28 bg-gradient-to-r from-indigo-400 via-purple-500 to-emerald-500 rounded-3xl flex items-center justify-center mb-8 shadow-2xl shadow-indigo-500/30 animate-bounce hover:animate-none transition-all"><Play className="w-14 h-14 text-white drop-shadow-2xl"/></div><h1 className="text-6xl lg:text-7xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-emerald-600 bg-clip-text text-transparent mb-8 drop-shadow-2xl tracking-tight leading-tight">Jeux PrÃªts<br className="hidden md:inline"/><span className="text-transparent bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text drop-shadow-lg">Ã€ Jouer</span></h1><p className="text-2xl text-gray-600 leading-relaxed max-w-2xl mx-auto mb-16">Clique sur n\'importe quel jeu pour commencer instantanÃ©ment avec {user?.name||"ton pseudo"}</p></div><div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-8 max-w-7xl w-full px-4">{DEFAULT_GAMES.map((game,i)=>(<div key={i} className="group bg-white/85 backdrop-blur-sm hover:bg-white/95 rounded-3xl p-10 border border-gray-200/50 hover:border-indigo-400/70 shadow-2xl hover:shadow-3xl hover:scale-[1.08] transition-all duration-700 cursor-pointer overflow-hidden h-64 md:h-72 flex flex-col justify-between hover:-translate-y-4 hover:shadow-indigo-500/20 border-opacity-0 hover:border-opacity-100" style={{'--border-opacity':0}as any}><div className="text-6xl lg:text-7xl group-hover:scale-110 transition-transform duration-500 drop-shadow-2xl group-hover:drop-shadow-3xl mb-8 mx-auto">{game.emoji}</div><div className="text-center"><h3 className="font-black text-2xl lg:text-3xl text-gray-900 mb-4 group-hover:text-indigo-600 line-clamp-2 transition-all duration-300 drop-shadow-md">{game.name}</h3><p className="text-lg lg:text-xl text-gray-600 group-hover:text-gray-700 line-clamp-2 transition-all duration-300">{game.description}</p></div><div className="w-full h-2 bg-gradient-to-r from-transparent via-indigo-400/50 to-transparent scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-700 rounded-full shadow-lg mx-auto"/></div>))}</div></div>}{activeTab==="create"&&<div className="flex-1 grid grid-cols-[300px_1fr_420px] h-full overflow-hidden border-t border-gray-200/30 bg-gradient-to-br from-white/50 to-gray-50/50"><div className="bg-white/80 backdrop-blur-xl border-r border-gray-200/40 shadow-2xl p-8 overflow-y-auto"><h3 className="font-black text-xl mb-8 flex items-center gap-3 text-gray-800 drop-shadow-md"><Save className="w-7 h-7 text-emerald-500 shadow-lg"/><span>Mes {user?.name||"Jeux"}</span></h3><div className="space-y-4 max-h-full"><div className="p-6 bg-gradient-to-br from-indigo-50 to-purple-50/50 rounded-3xl border-2 border-indigo-200/60 hover:border-indigo-400 shadow-xl hover:shadow-2xl cursor-pointer transition-all duration-500 hover:scale-[1.05] hover:-translate-y-1 group"><div className="flex items-start gap-4"><div className="text-3xl shrink-0 mt-1">ğŸ¾</div><div className="flex-1 min-w-0"><h4 className="font-black text-xl text-gray-900 group-hover:text-indigo-600 truncate mb-1 drop-shadow-sm">Pong Classic</h4><div className="flex items-center gap-2 text-sm text-gray-500 mb-1"><Clock className="w-4 h-4"/><span>il y a 2h</span></div><div className="flex items-center gap-1 text-xs bg-indigo-100/50 px-2 py-1 rounded-full group-hover:bg-indigo-200/60 transition-all"><Star className="w-3 h-3 text-yellow-500 fill-yellow-500"/><span>12</span></div></div></div></div><div className="p-6 bg-gradient-to-br from-emerald-50 to-teal-50/50 rounded-3xl border-2 border-emerald-200/60 hover:border-emerald-400 shadow-xl hover:shadow-2xl cursor-pointer transition-all duration-500 hover:scale-[1.05] hover:-translate-y-1 group"><div className="flex items-start gap-4"><div className="text-3xl shrink-0 mt-1">ğŸ</div><div className="flex-1 min-w-0"><h4 className="font-black text-xl text-gray-900 group-hover:text-emerald-600 truncate mb-1 drop-shadow-sm">Snake Pro</h4><div className="flex items-center gap-2 text-sm text-gray-500 mb-1"><Clock className="w-4 h-4"/><span>il y a 1h</span></div><div className="flex items-center gap-1 text-xs bg-emerald-100/50 px-2 py-1 rounded-full group-hover:bg-emerald-200/60 transition-all"><Star className="w-3 h-3 text-yellow-500 fill-yellow-500"/><span>28</span></div></div></div></div><button className="w-full p-4 mt-8 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-2xl font-black text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-[1.05] border-0 focus:outline-none focus:ring-4 focus:ring-red-500/40">ğŸ—‘ï¸ Vider l\'historique</button></div><div className="bg-gradient-to-b from-gray-50/80 to-white/70 backdrop-blur-xl border-r border-gray-200/30 shadow-2xl overflow-hidden flex flex-col"><div className="p-8 flex flex-col h-full"><div className="flex items-center justify-between mb-8 p-4 bg-white/60 backdrop-blur-sm rounded-3xl border border-gray-200/50 shadow-lg"><div className="flex items-center gap-3"><div className="w-3 h-3 bg-emerald-400 rounded-full animate-pulse shadow-lg ring-2 ring-emerald-400/30"></div><h3 className="font-black text-2xl bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 bg-clip-text text-transparent drop-shadow-2xl">ğŸ¯ Chat IA CrÃ©ateur</h3></div><div className="flex items-center gap-2 text-sm text-gray-600 font-semibold"><span>En ligne</span><div className="w-2 h-2 bg-emerald-400 rounded-full animate-ping"></div></div></div><div className="flex-1 flex flex-col mb-8 overflow-hidden"><div className="flex-1 p-6 space-y-4 bg-gradient-to-br from-indigo-50/70 to-purple-50/70 backdrop-blur-sm rounded-3xl border border-indigo-200/40 shadow-inner overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300/50 scrollbar-track-transparent max-h-[500px]"><div className="flex items-start gap-4 p-5 bg-white/90 backdrop-blur-sm rounded-2xl border border-indigo-200/40 shadow-md hover:shadow-xl transition-all hover:scale-[1.01]"><<div className="w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg ring-2 ring-white/50 mr-4"><Send className="w-6 h-6 text-white drop-shadow-md"/></div><div className="flex-1"><div className="font-semibold text-gray-900 text-lg mb-2">CrÃ©e moi un jeu de ping pong !</div><div className="text-sm text-gray-500">il y a 3min</div></div></div><div className="flex items-start gap-4 p-5 bg-gradient-to-r from-emerald-500/10 via-teal-500/10 to-emerald-500/10 rounded-2xl border border-emerald-200/50 shadow-lg hover:shadow-2xl transition-all bg-white/70 backdrop-blur-sm"><div className="w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-xl ring-3 ring-white/60 mr-4"><svg className="w-6 h-6 text-white drop-shadow-lg"fill="none"stroke="currentColor"viewBox="0 0 24 24"><path strokeLinecap="round"strokeLinejoin="round"strokeWidth={2}d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div><div className="flex-1"><div className="font-semibold text-emerald-800 text-lg mb-2">Pong Classic gÃ©nÃ©rÃ© ! ğŸ¾</div><div className="text-sm text-emerald-700/90 mb-3">â†‘â†“ flÃ¨ches pour jouer contre l\'IA<br/>Score en temps rÃ©el + physique rÃ©aliste</div><div className="flex items-center gap-2 text-xs bg-emerald-100/80 px-3 py-1.5 rounded-full shadow-md font-medium text-emerald-800 border border-emerald-200/50">âœ… PrÃªt Ã  jouer</div></div></div></div><div className="p-6 text-center text-gray-500 bg-gradient-to-r from-gray-100/70 to-gray-200/50 rounded-3xl border-2 border-dashed border-gray-300/50 cursor-pointer hover:border-indigo-400 hover:bg-indigo-50/50 transition-all hover:scale-105 shadow-inner hover:shadow-md hover:shadow-indigo-100/50 min-h-[120px] flex flex-col items-center justify-center gap-3 group hover:text-indigo-700"><Send className="w-16 h-16 mx-auto mb-4 text-gray-400 group-hover:text-indigo-500 group-hover:scale-110 transition-all duration-300 drop-shadow-lg group-hover:drop-shadow-xl"/><div><p className="font-semibold text-xl mb-1">Demande-moi un nouveau jeu</p><p className="text-lg opacity-80">Exemples : "Flappy Bird", "Tetris", "Breakout"</p></div></div></div><div className="flex gap-3 p-6 bg-white/90 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-2xl hover:shadow-3xl transition-all mx-2"><input className="flex-1 px-6 py-4 bg-white/70 backdrop-blur-sm rounded-2xl border border-gray-300/50 focus:border-indigo-500/70 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 placeholder-gray-500 font-semibold text-lg shadow-inner hover:shadow-md transition-all"placeholder="Tape ton idÃ©e de jeu... (ex: 'CrÃ©e un Tetris 3D')"/><button className="flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500 hover:from-indigo-600 hover:via-purple-600 hover:to-emerald-600 text-white font-black text-lg rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 whitespace-nowrap hover:scale-[1.05] focus:outline-none focus:ring-4 focus:ring-indigo-500/40 border-0 group"><Send className="w-6 h-6 group-hover:rotate-12 transition-transform"/><span>GÃ©nÃ©rer mon jeu</span></button></div></div><div className="bg-white/95 backdrop-blur-2xl shadow-3xl border-l-4 border-gradient-to-r border-indigo-500 relative overflow-hidden flex flex-col h-full min-w-0"><div className="absolute inset-0 bg-gradient-to-br from-indigo-500/3 via-purple-500/3 to-emerald-500/3 pointer-events-none"/><div className="relative z-20 flex flex-col h-full p-8 space-y-8"><div className="flex items-center justify-between p-6 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 backdrop-blur-sm rounded-3xl border border-indigo-200/40 shadow-2xl"><div className="flex items-center gap-4"><div className="w-4 h-4 bg-emerald-400 rounded-full animate-pulse shadow-xl ring-2 ring-emerald-400/50"></div><h3 className="font-black text-2xl bg-gradient-to-r from-indigo-900 via-purple-900 to-emerald-900 bg-clip-text text-transparent drop-shadow-2xl tracking-tight">ğŸ® Preview Live</h3></div><button className="p-3 bg-white/60 hover:bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 border border-gray-200/50 group"><RefreshCw className="w-6 h-6 text-indigo-600 group-hover:rotate-180 transition-all duration-500"/></button></div><div className="flex-1 flex items-center justify-center bg-gradient-to-br from-gray-50/80 via-white/70 to-indigo-50/50 rounded-4xl border-4 border-dashed border-indigo-300/40 shadow-2xl overflow-hidden min-h-[450px] backdrop-blur-xl relative group-hover:shadow-indigo-500/20 transition-all duration-500 hover:scale-[1.02]"><div className="absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-700 animate-pulse"/><div className="relative z-10 text-center p-16 space-y-6"><div className="w-32 h-32 mx-auto bg-gradient-to-r from-indigo-400 via-purple-500 to-emerald-500 rounded-4xl flex items-center justify-center shadow-3xl ring-4 ring-white/50 animate-bounce hover:animate-none transition-all duration-300 group-hover:scale-110 drop-shadow-2xl"><Play className="w-16 h-16 text-white drop-shadow-3xl"/></div><h4 className="font-black text-3xl mb-4 bg-gradient-to-r from-gray-800 via-gray-700 to-gray-600 bg-clip-text text-transparent drop-shadow-xl tracking-tight">Aucun jeu chargÃ©</h4><p className="text-xl lg:text-2xl text-gray-500/90 mb-8 max-w-md mx-auto leading-relaxed drop-shadow-sm">Clique sur un jeu dans ton historique<br/>ou gÃ©nÃ¨re-en un nouveau avec l'IA</p><div className="inline-flex items-center gap-3 px-10 py-4 bg-gradient-to-r from-indigo-100/80 via-purple-100/80 to-emerald-100/80 hover:from-indigo-200 hover:via-purple-200 hover:to-emerald-200 text-indigo-800 font-black text-lg rounded-3xl cursor-pointer transition-all duration-400 shadow-xl hover:shadow-2xl hover:shadow-indigo-500/20 hover:scale-105 mx-auto border border-indigo-200/50 backdrop-blur-sm hover:border-indigo-400/70">ğŸ¯ Charge ton premier jeu</div></div></div><button className="w-full mx-auto max-w-sm bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500 hover:from-indigo-600 hover:via-purple-600 hover:to-emerald-600 text-white py-5 px-12 rounded-3xl font-black text-xl shadow-3xl hover:shadow-4xl transition-all duration-500 hover:scale-[1.08] focus:outline-none focus:ring-4 focus:ring-indigo-500/50 border-0 group hover:tracking-wide tracking-tight"><RefreshCw className="w-8 h-8 inline mr-3 group-hover:rotate-180 transition-all duration-700"/><span>ğŸ”„ RedÃ©marrer Preview</span></button></div></div>}</div>);